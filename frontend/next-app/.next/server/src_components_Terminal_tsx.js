"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "src_components_Terminal_tsx";
exports.ids = ["src_components_Terminal_tsx"];
exports.modules = {

/***/ "./src/components/Terminal.tsx":
/*!*************************************!*\
  !*** ./src/components/Terminal.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ XTerminal)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var xterm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! xterm */ \"xterm\");\n/* harmony import */ var xterm__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(xterm__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var xterm_addon_fit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! xterm-addon-fit */ \"xterm-addon-fit\");\n/* harmony import */ var xterm_addon_fit__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(xterm_addon_fit__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nfunction XTerminal() {\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const wsRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const termRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fitTimeout = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const reconnectTimer = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const reconnectAttempts = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // require a real container DOM node before instantiating xterm\n        if (!containerRef.current) {\n            return;\n        }\n        const term = new xterm__WEBPACK_IMPORTED_MODULE_2__.Terminal({\n            convertEol: true\n        });\n        const fit = new xterm_addon_fit__WEBPACK_IMPORTED_MODULE_3__.FitAddon();\n        term.loadAddon(fit);\n        term.open(containerRef.current);\n        // defer fit() so xterm has time to initialize its renderer; avoids\n        // \"_renderer.value is undefined\" when the renderer isn't ready yet.\n        fitTimeout.current = window.setTimeout(()=>{\n            try {\n                fit.fit();\n            } catch (e) {\n                console.warn(\"fit failed\", e);\n            }\n            try {\n                term.focus();\n            } catch (e) {}\n        }, 0);\n        termRef.current = term;\n        function makeWs() {\n            // Use the same host the page was served from so devices on the LAN\n            // (phone) connect back to the server running on the laptop.\n            const host = window.location.hostname || \"localhost\";\n            const proto = window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\";\n            const url = `${proto}${host}:3001/pty`;\n            console.debug(\"terminal: connecting ws ->\", url);\n            let ws;\n            try {\n                ws = new WebSocket(url);\n            } catch (e) {\n                console.error(\"terminal: websocket construction failed\", e);\n                scheduleReconnect();\n                // return a noop cleanup so callers can continue\n                return ()=>{};\n            }\n            wsRef.current = ws;\n            ws.onopen = ()=>{\n                reconnectAttempts.current = 0;\n                console.debug(\"terminal: ws open\");\n                term.write(\"\\r\\nConnected to biohacker PTY server\\r\\n\");\n                ws.send(JSON.stringify({\n                    type: \"resize\",\n                    cols: term.cols,\n                    rows: term.rows\n                }));\n            };\n            ws.onmessage = (ev)=>{\n                const data = typeof ev.data === \"string\" ? ev.data : \"\";\n                term.write(data);\n            };\n            ws.onclose = (ev)=>{\n                console.warn(\"terminal: ws closed\", ev);\n                term.write(\"\\r\\n[connection closed]\\r\\n\");\n                scheduleReconnect();\n            };\n            ws.onerror = (e)=>{\n                console.error(\"terminal: ws error\", e);\n            };\n            // wire terminal input to the websocket\n            term.onData((d)=>{\n                if (ws.readyState === WebSocket.OPEN) {\n                    ws.send(JSON.stringify({\n                        type: \"input\",\n                        data: d\n                    }));\n                }\n            });\n            // handle resize events and notify the server when connected\n            const handleResize = ()=>{\n                fit.fit();\n                if (ws.readyState === WebSocket.OPEN) {\n                    ws.send(JSON.stringify({\n                        type: \"resize\",\n                        cols: term.cols,\n                        rows: term.rows\n                    }));\n                }\n            };\n            window.addEventListener(\"resize\", handleResize);\n            // cleanup callback for this ws instance\n            const cleanup = ()=>{\n                window.removeEventListener(\"resize\", handleResize);\n                try {\n                    if (ws && (ws.readyState === WebSocket.OPEN || ws.readyState === WebSocket.CONNECTING)) ws.close();\n                } catch (e) {}\n            };\n            return cleanup;\n        }\n        function scheduleReconnect() {\n            if (reconnectTimer.current) return; // already scheduled\n            reconnectAttempts.current += 1;\n            const backoff = Math.min(1000 * Math.pow(2, reconnectAttempts.current - 1), 30000);\n            reconnectTimer.current = window.setTimeout(()=>{\n                reconnectTimer.current = null;\n                try {\n                    makeWs();\n                } catch (e) {\n                    console.warn(\"reconnect failed\", e);\n                    scheduleReconnect();\n                }\n            }, backoff);\n        }\n        // start first connection\n        const wsCleanup = makeWs();\n        return ()=>{\n            if (reconnectTimer.current) {\n                clearTimeout(reconnectTimer.current);\n                reconnectTimer.current = null;\n            }\n            if (fitTimeout.current) {\n                clearTimeout(fitTimeout.current);\n                fitTimeout.current = null;\n            }\n            try {\n                wsCleanup();\n            } catch (e) {}\n            try {\n                term.dispose();\n            } catch (e) {}\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"xterm-container\",\n        ref: containerRef,\n        tabIndex: 0\n    }, void 0, false, {\n        fileName: \"/home/arn365/Documents/biohacker/frontend/next-app/src/components/Terminal.tsx\",\n        lineNumber: 120,\n        columnNumber: 10\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPLEVBQUU7Z0JBQUVvRCxhQUFhdEQsZUFBZUUsT0FBTztnQkFBR0YsZUFBZUUsT0FBTyxHQUFHO1lBQU07WUFDbkcsSUFBSUgsV0FBV0csT0FBTyxFQUFFO2dCQUFFb0QsYUFBYXZELFdBQVdHLE9BQU87Z0JBQUdILFdBQVdHLE9BQU8sR0FBRztZQUFNO1lBQ3ZGLElBQUk7Z0JBQUVtRDtZQUFhLEVBQUUsT0FBTzNDLEdBQUcsQ0FBQztZQUNoQyxJQUFJO2dCQUFFUCxLQUFLb0QsT0FBTztZQUFJLEVBQUUsT0FBTzdDLEdBQUcsQ0FBQztRQUNqQztJQUNGLEdBQUcsRUFBRTtJQUVMLHFCQUFPLDhEQUFDOEM7UUFBSUMsV0FBVTtRQUFrQkMsS0FBSzlEO1FBQWMrRCxVQUFVOzs7Ozs7QUFDdkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaW9oYWNrZXItZnJvbnRlbmQvLi9zcmMvY29tcG9uZW50cy9UZXJtaW5hbC50c3g/ZWU4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUZXJtaW5hbCB9IGZyb20gJ3h0ZXJtJztcbmltcG9ydCB7IEZpdEFkZG9uIH0gZnJvbSAneHRlcm0tYWRkb24tZml0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gWFRlcm1pbmFsKCkge1xuICBjb25zdCBjb250YWluZXJSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQgfCBudWxsPihudWxsKTtcbiAgY29uc3Qgd3NSZWYgPSB1c2VSZWY8V2ViU29ja2V0IHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHRlcm1SZWYgPSB1c2VSZWY8VGVybWluYWwgfCBudWxsPihudWxsKTtcbiAgY29uc3QgZml0VGltZW91dCA9IHVzZVJlZjxudW1iZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgcmVjb25uZWN0VGltZXIgPSB1c2VSZWY8bnVtYmVyIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IHJlY29ubmVjdEF0dGVtcHRzID0gdXNlUmVmKDApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gcmVxdWlyZSBhIHJlYWwgY29udGFpbmVyIERPTSBub2RlIGJlZm9yZSBpbnN0YW50aWF0aW5nIHh0ZXJtXG4gICAgaWYgKCFjb250YWluZXJSZWYuY3VycmVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRlcm0gPSBuZXcgVGVybWluYWwoeyBjb252ZXJ0RW9sOiB0cnVlIH0pO1xuICAgIGNvbnN0IGZpdCA9IG5ldyBGaXRBZGRvbigpO1xuICAgIHRlcm0ubG9hZEFkZG9uKGZpdCk7XG4gICAgdGVybS5vcGVuKGNvbnRhaW5lclJlZi5jdXJyZW50IGFzIEhUTUxFbGVtZW50KTtcblxuICAgIC8vIGRlZmVyIGZpdCgpIHNvIHh0ZXJtIGhhcyB0aW1lIHRvIGluaXRpYWxpemUgaXRzIHJlbmRlcmVyOyBhdm9pZHNcbiAgICAvLyBcIl9yZW5kZXJlci52YWx1ZSBpcyB1bmRlZmluZWRcIiB3aGVuIHRoZSByZW5kZXJlciBpc24ndCByZWFkeSB5ZXQuXG4gICAgZml0VGltZW91dC5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdHJ5IHsgZml0LmZpdCgpOyB9IGNhdGNoIChlKSB7IGNvbnNvbGUud2FybignZml0IGZhaWxlZCcsIGUpOyB9XG4gICAgICB0cnkgeyB0ZXJtLmZvY3VzKCk7IH0gY2F0Y2ggKGUpIHsgLyogaWdub3JlIGZvY3VzIGVycm9ycyAqLyB9XG4gICAgfSwgMCkgYXMgdW5rbm93biBhcyBudW1iZXI7XG5cbiAgICB0ZXJtUmVmLmN1cnJlbnQgPSB0ZXJtO1xuXG4gICAgZnVuY3Rpb24gbWFrZVdzKCkge1xuICAgICAgLy8gVXNlIHRoZSBzYW1lIGhvc3QgdGhlIHBhZ2Ugd2FzIHNlcnZlZCBmcm9tIHNvIGRldmljZXMgb24gdGhlIExBTlxuICAgICAgLy8gKHBob25lKSBjb25uZWN0IGJhY2sgdG8gdGhlIHNlcnZlciBydW5uaW5nIG9uIHRoZSBsYXB0b3AuXG4gICAgICBjb25zdCBob3N0ID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lIHx8ICdsb2NhbGhvc3QnO1xuICAgICAgY29uc3QgcHJvdG8gPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonID8gJ3dzczovLycgOiAnd3M6Ly8nO1xuICAgICAgY29uc3QgdXJsID0gYCR7cHJvdG99JHtob3N0fTozMDAxL3B0eWA7XG4gICAgICBjb25zb2xlLmRlYnVnKCd0ZXJtaW5hbDogY29ubmVjdGluZyB3cyAtPicsIHVybCk7XG4gICAgICBsZXQgd3M6IFdlYlNvY2tldDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHdzID0gbmV3IFdlYlNvY2tldCh1cmwpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCd0ZXJtaW5hbDogd2Vic29ja2V0IGNvbnN0cnVjdGlvbiBmYWlsZWQnLCBlKTtcbiAgICAgICAgc2NoZWR1bGVSZWNvbm5lY3QoKTtcbiAgICAgICAgLy8gcmV0dXJuIGEgbm9vcCBjbGVhbnVwIHNvIGNhbGxlcnMgY2FuIGNvbnRpbnVlXG4gICAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICAgIH1cbiAgICAgIHdzUmVmLmN1cnJlbnQgPSB3cztcblxuICAgICAgd3Mub25vcGVuID0gKCkgPT4ge1xuICAgICAgICByZWNvbm5lY3RBdHRlbXB0cy5jdXJyZW50ID0gMDtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygndGVybWluYWw6IHdzIG9wZW4nKTtcbiAgICAgICAgdGVybS53cml0ZSgnXFxyXFxuQ29ubmVjdGVkIHRvIGJpb2hhY2tlciBQVFkgc2VydmVyXFxyXFxuJyk7XG4gICAgICAgIHdzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAncmVzaXplJywgY29sczogdGVybS5jb2xzLCByb3dzOiB0ZXJtLnJvd3MgfSkpO1xuICAgICAgfTtcblxuICAgICAgd3Mub25tZXNzYWdlID0gKGV2KSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0eXBlb2YgZXYuZGF0YSA9PT0gJ3N0cmluZycgPyBldi5kYXRhIDogJyc7XG4gICAgICAgIHRlcm0ud3JpdGUoZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICB3cy5vbmNsb3NlID0gKGV2KSA9PiB7XG4gICAgICAgIGNvbnNvbGUud2FybigndGVybWluYWw6IHdzIGNsb3NlZCcsIGV2KTtcbiAgICAgICAgdGVybS53cml0ZSgnXFxyXFxuW2Nvbm5lY3Rpb24gY2xvc2VkXVxcclxcbicpO1xuICAgICAgICBzY2hlZHVsZVJlY29ubmVjdCgpO1xuICAgICAgfTtcblxuICAgICAgd3Mub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ3Rlcm1pbmFsOiB3cyBlcnJvcicsIGUpO1xuICAgICAgfTtcblxuICAgICAgLy8gd2lyZSB0ZXJtaW5hbCBpbnB1dCB0byB0aGUgd2Vic29ja2V0XG4gICAgICB0ZXJtLm9uRGF0YSgoZCkgPT4ge1xuICAgICAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ2lucHV0JywgZGF0YTogZCB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBoYW5kbGUgcmVzaXplIGV2ZW50cyBhbmQgbm90aWZ5IHRoZSBzZXJ2ZXIgd2hlbiBjb25uZWN0ZWRcbiAgICAgIGNvbnN0IGhhbmRsZVJlc2l6ZSA9ICgpID0+IHtcbiAgICAgICAgZml0LmZpdCgpO1xuICAgICAgICBpZiAod3MucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0Lk9QRU4pIHtcbiAgICAgICAgICB3cy5zZW5kKEpTT04uc3RyaW5naWZ5KHsgdHlwZTogJ3Jlc2l6ZScsIGNvbHM6IHRlcm0uY29scywgcm93czogdGVybS5yb3dzIH0pKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG5cbiAgICAgIC8vIGNsZWFudXAgY2FsbGJhY2sgZm9yIHRoaXMgd3MgaW5zdGFuY2VcbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgICAgICB0cnkgeyBpZiAod3MgJiYgKHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5PUEVOIHx8IHdzLnJlYWR5U3RhdGUgPT09IFdlYlNvY2tldC5DT05ORUNUSU5HKSkgd3MuY2xvc2UoKTsgfSBjYXRjaCAoZSkge31cbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBjbGVhbnVwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUmVjb25uZWN0KCkge1xuICAgICAgaWYgKHJlY29ubmVjdFRpbWVyLmN1cnJlbnQpIHJldHVybjsgLy8gYWxyZWFkeSBzY2hlZHVsZWRcbiAgICAgIHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgKz0gMTtcbiAgICAgIGNvbnN0IGJhY2tvZmYgPSBNYXRoLm1pbigxMDAwICogTWF0aC5wb3coMiwgcmVjb25uZWN0QXR0ZW1wdHMuY3VycmVudCAtIDEpLCAzMDAwMCk7XG4gICAgICByZWNvbm5lY3RUaW1lci5jdXJyZW50ID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZWNvbm5lY3RUaW1lci5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgdHJ5IHsgbWFrZVdzKCk7IH0gY2F0Y2ggKGUpIHsgY29uc29sZS53YXJuKCdyZWNvbm5lY3QgZmFpbGVkJywgZSk7IHNjaGVkdWxlUmVjb25uZWN0KCk7IH1cbiAgICAgIH0sIGJhY2tvZmYpO1xuICAgIH1cblxuICAgIC8vIHN0YXJ0IGZpcnN0IGNvbm5lY3Rpb25cbiAgICBjb25zdCB3c0NsZWFudXAgPSBtYWtlV3MoKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gIGlmIChyZWNvbm5lY3RUaW1lci5jdXJyZW50KSB7IGNsZWFyVGltZW91dChyZWNvbm5lY3RUaW1lci5jdXJyZW50KTsgcmVjb25uZWN0VGltZXIuY3VycmVudCA9IG51bGw7IH1cbiAgaWYgKGZpdFRpbWVvdXQuY3VycmVudCkgeyBjbGVhclRpbWVvdXQoZml0VGltZW91dC5jdXJyZW50KTsgZml0VGltZW91dC5jdXJyZW50ID0gbnVsbDsgfVxuICB0cnkgeyB3c0NsZWFudXAoKTsgfSBjYXRjaCAoZSkge31cbiAgdHJ5IHsgdGVybS5kaXNwb3NlKCk7IH0gY2F0Y2ggKGUpIHt9XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT1cInh0ZXJtLWNvbnRhaW5lclwiIHJlZj17Y29udGFpbmVyUmVmfSB0YWJJbmRleD17MH0gLz47XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJUZXJtaW5hbCIsIkZpdEFkZG9uIiwiWFRlcm1pbmFsIiwiY29udGFpbmVyUmVmIiwid3NSZWYiLCJ0ZXJtUmVmIiwiZml0VGltZW91dCIsInJlY29ubmVjdFRpbWVyIiwicmVjb25uZWN0QXR0ZW1wdHMiLCJjdXJyZW50IiwidGVybSIsImNvbnZlcnRFb2wiLCJmaXQiLCJsb2FkQWRkb24iLCJvcGVuIiwid2luZG93Iiwic2V0VGltZW91dCIsImUiLCJjb25zb2xlIiwid2FybiIsImZvY3VzIiwibWFrZVdzIiwiaG9zdCIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJwcm90byIsInByb3RvY29sIiwidXJsIiwiZGVidWciLCJ3cyIsIldlYlNvY2tldCIsImVycm9yIiwic2NoZWR1bGVSZWNvbm5lY3QiLCJvbm9wZW4iLCJ3cml0ZSIsInNlbmQiLCJKU09OIiwic3RyaW5naWZ5IiwidHlwZSIsImNvbHMiLCJyb3dzIiwib25tZXNzYWdlIiwiZXYiLCJkYXRhIiwib25jbG9zZSIsIm9uZXJyb3IiLCJvbkRhdGEiLCJkIiwicmVhZHlTdGF0ZSIsIk9QRU4iLCJoYW5kbGVSZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xlYW51cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJDT05ORUNUSU5HIiwiY2xvc2UiLCJiYWNrb2ZmIiwiTWF0aCIsIm1pbiIsInBvdyIsIndzQ2xlYW51cCIsImNsZWFyVGltZW91dCIsImRpc3Bvc2UiLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJ0YWJJbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/Terminal.tsx\n");

/***/ })

};
;